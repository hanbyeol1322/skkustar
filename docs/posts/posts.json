[
  {
    "path": "posts/2021-03-07-first-writing/",
    "title": "보험금융투자론",
    "description": "chooser option payoff",
    "author": [
      {
        "name": "hanbyeol",
        "url": {}
      }
    ],
    "date": "2021-03-07",
    "categories": [],
    "contents": "\nchooser option pay-off R code\n1. chooser option factors\nS0 <- 100\nK <- 100\n\ns <- 1000\ninterval <- 500\n\nT_t <- 0.7/(interval)\nt <- 0.3\nr <-0.03\nsigma <- 0.5\nmu <- r-(0.5*sigma^2)\n\nset.seed(1234)\n2. random number\nrnd.num <- as.data.frame(matrix(rnorm(s*interval), nrow=s, ncol=interval))\n3. 누적 수익률 만들기\nxx <- as.data.frame(matrix(data=0, nrow=s, ncol=interval+1))\n\nfor ( i in 1:s){\n  for ( j in 1:interval){\n    \n    xx[i,j+1] <- xx[i,j] + (mu*(T_t)+(sigma*sqrt(T_t)*rnd.num[i,j]))  \n  }\n  \n}\n4. t시점에서 option의 가치\nresult <- matrix(NA, s, 1)\n\nfor (i in 1:s){\n    result[i,1] <- (max(0, S0*exp(xx[i,151])-K*exp(-r*0.7),max(0, K*exp(-r*0.7)-S0*exp(xx[i,151]))))\n  \n}\n\n\npayoff <- result\nST <- matrix(S0*exp(xx[,150]))\nplot(ST, payoff)\n\n\nmean(result[1:s,1])\n\n\nplot(x=seq(1,500,1), y=xx[999, 2:501], type=\"l\", xlab = \"interval\", ylab = \"Yield\", main = \"999th Stock Price\")\nplot(x <- sort(rnorm(47)), type = \"s\", main = \"plot(x, type = \\\"s\\\")\")\npoints(x, cex = .5, col = \"dark red\")\n5. 블랙숄즈 공식과 비교, t시점에서 option의 가치\nchooser_option <- function(s, k, r, T, t, sigma){\n  d1 <- (log(s/k)+(r+0.5*sigma^2)*T)/(sigma*sqrt(T))\n  d2 <- d1-sigma*sqrt(T)\n  d1_c <- (log(s/k)+(r+0.5*sigma^2)*t)/(sigma*sqrt(t))\n  d2_c <- d1_c-sigma*sqrt(t)\n  value <- s*pnorm(d1)-k*exp(-r*T)*pnorm(d2)-s*pnorm(-d1_c)+k*exp(-r*T)*pnorm(-d2_c)\n  return(value)\n}\n\nchooser_option(100, 100, 0.03, 1, 0.3, 0.2)\n참고: call\ncalloption <- function(s, k, r, T, sigma){\n  d1 <- (log(s/k)+(r+0.5*sigma^2)*T)/(sigma*sqrt(T))\n  d2 <- d1-sigma*sqrt(T)\n  value <- s*pnorm(d1)-k*exp(-r*T)*pnorm(d2)\n  return(value)\n  \n}\n\ncalloption(100, 100, 0.03, 1, 0.2)\n참고: put\nputoption <- function(s, k, r, T, sigma){\n  d1 <- (log(s/k)+(r+0.5*sigma^2)*T)/(sigma*sqrt(T))\n  d2 <- d1-sigma*sqrt(T)\n  value <- k*exp(-r*T)*pnorm(-d2)-s*pnorm(-d1)\n  return(value)\n  \n}\n\nputoption(100, 100, 0.03, 1, 0.2)\n\n\n\n\n",
    "preview": {},
    "last_modified": "2021-03-07T14:29:04+00:00",
    "input_file": "first-writing.utf8.md"
  }
]
